@using chatle.Hubs
@using Microsoft.Extensions.Options
@inject IOptions<HubSettings> hubSettings

@{
    ViewBag.Title = "Home Page";
}

<chatle>Loading...</chatle>

@section scripts
{
	<script>
        window['chatleSetting'] = {
            userName: '@User.Identity.Name',
            chatAPI: '@Url.Action("Get", "Chat")',
            convAPI: '@Url.Action("CreateConversation", "Chat")',
            userAPI: '@Url.Action("Get", "User")',
            debug: true,
            hubSettings: {
              url: '@hubSettings.Value.Url',
              transportType: @Convert.ToInt32(hubSettings.Value.TransportType),
              logLevel: @Convert.ToInt32(hubSettings.Value.LogLevel)
            }
        };
	</script>
    <script type="text/javascript" src="~/lib/inline.bundle.js"></script>
    <script type="text/javascript" src="~/lib/polyfills.bundle.js"></script>
    <script type="text/javascript" src="~/lib/styles.bundle.js"></script>
    <script type="text/javascript" src="~/lib/vendor.bundle.js"></script>
    <script type="text/javascript" src="~/lib/main.bundle.js"></script>
}
